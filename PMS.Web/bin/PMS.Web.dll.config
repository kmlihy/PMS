<?xml version="1.0" encoding="utf-8"?>

<!--
  有关如何配置 ASP.NET 应用程序的详细信息，请访问
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->

<configuration>
    <system.web>
      <compilation debug="true" targetFramework="4.0" />
      
      <authentication mode="Forms">
        <forms loginUrl="login.aspx" cookieless="UseCookies" defaultUrl="Default.aspx"/>
      </authentication>
      <authorization>
        <deny users="?"/>
      </authorization>
      <sessionState mode="InProc" timeout="1"/>
    </system.web>

    <location path="reg.aspx">
      <system.web>
        <authorization>
          <allow users="*"/>
        </authorization>
      </system.web>
    </location>

    <location path="admin/login.aspx">
      <system.web>
        <authorization>
          <allow users="*"/>
        </authorization>
      </system.web>
    </location>

    <location path="checkCode.aspx">
      <system.web>
        <authorization>
          <allow users="*"/>
        </authorization>
      </system.web>
    </location>

    <location path="login.aspx">
      <system.web>
        <authorization>
          <allow users="*"/>
        </authorization>
      </system.web>
    </location>

    <location path="~/main.aspx">
      <system.web>
        <authorization>
          <allow roles="student,teacher,administrator"/>
          <deny users="*" />
        </authorization>
      </system.web>
    </location>
  
    <connectionStrings>
      <add name="sqlConn" connectionString="server=10.0.28.159,1106;database=pms;uid=sa;pwd=123456"/>
    </connectionStrings>
</configuration>
